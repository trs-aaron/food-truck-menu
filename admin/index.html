<!doctype html>
<html ng-app="TamMenuAdmin">
    <head>
        <link rel="stylesheet" href="../lib/styles/bootstrap_4_5/bootstrap.min.css">
        <link rel="stylesheet" href="../lib/styles/paper-dashboard/paper-dashboard.css">
        <link rel="stylesheet" href="../styles/admin/admin.css">
        <script src="../lib/script/angular_1_8/angular.min.js"></script>
        <script src="../lib/script/ui-bootstrap_2_5/ui-bootstrap.min.js"></script>
    </head>
    <body>
        <div class="container p-3">
          <uib-tabset active="active">
            <uib-tab index="0" heading="Availability" active="true" class="tam_admin_tab">
              <div ng-controller="Availability" class="container">
                <div class="row align-items-center my-3">
                  <div class="col-10">
                    <h4 class="text-muted">{{menuTitle}}</h4>
                  </div>
                  <div class="col">
                    <button type="button" class="btn btn-primary btn-md btn-block" ng-model="singleModel" ng-click="funcs.reset()">Reset</button>
                  </div>
                </div>
                <div class="row my-3">
                  <div class="col card tam-admin_avail_groups">
                    <div ng-repeat="group in groups" class="tam-admin_avail_group">
                      <h5 class="tam-admin_avail_group-title">{{group.title}}</h5>
                      <div class="tam-admin_avail_group-items">
                        <div ng-repeat="item in group.items" class="tam-admin_avail_group-item">
                          <div class="tam-admin_avail_group-item-title">{{item.title}}</div>
                          <div class="custom-control custom-switch align-middle tam-admin_avail_group-item-avail">
                            <input type="checkbox" class="custom-control-input">
                            <label class="custom-control-label" for="customSwitches"></label>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </uib-tab>
            <uib-tab index="1" heading="Menus" class="tam_admin_tab">
              <div ng-controller="Menus" class="container">
                <div class="row align-items-center my-3">
                  <div class="col-4">
                    <div class="tam-admin_menus_select">
                      <select class="form-control" ng-model="menuSelect.selected" ng-change="menuSelect.funcs.onChange()">
                        <option ng-repeat="menu in menuSelect.opts" value="{{menu.id}}">{{menu.name}}</option>
                      </select>
                    </div>
                  </div>
                  <div class="col">
                    <button type="button" class="btn btn-primary btn-md btn-block" ng-model="singleModel" ng-click="funcs.save()" ng-disabled="!menu.modified">Save Menu</button>
                  </button>
                  </div>
                  <div class="col">
                    <button type="button" class="btn btn-primary btn-md btn-block" ng-model="singleModel" ng-click="funcs.setAsCurrent()">Set as Current</button>
                  </div>
                  <div class="col">
                    <button type="button" class="btn btn-danger btn-md btn-block" ng-model="singleModel" ng-click="funcs.delete()">Delete Menu</button>
                  </div>
                  <div class="col">
                    <button type="button" class="btn btn-success btn-md btn-block" ng-model="singleModel" ng-click="funcs.new()">New Menu</button>
                  </div>
                </div>
                <div class="row my-3">
                  <div class="col card tam-admin_menus_card tam-admin_menus_food">
                    <h4>Food</h4>
                    <table class="table table-striped">
                      <colgroup>
                        <col span="1" class="tam-admin_menus_title">
                        <col span="1" class="tam-admin_menus_desc">
                        <col span="1" class="tam-admin_menus_price">
                        <col span="1" class="tam-admin_menus_actions">
                     </colgroup>
                      <thead>
                        <tr>
                          <th scope="col">Title</th>
                          <th scope="col">Description</th>
                          <th scope="col">Price</th>
                          <th scope="col"></th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr ng-repeat="item in menu.food.items">
                          <td class="align-top tam-admin_input tam-admin_menus_title" data-modified="{{item.titleModified}}">
                            <input type="text" class="w-100" ng-model="item.title">
                          </td>
                          <td class="align-top tam-admin_input tam-admin_menus_desc" data-modified="{{item.descriptionModified}}">
                            <textarea class="w-100" rows="3" ng-model="item.description"></textarea>
                          </td>
                          <td class="align-top tam-admin_input tam-admin_menus_price" data-modified="{{item.priceModified}}">
                            <input type="number" class="w-100" step="0.25" ng-model="item.price">
                          </td>
                          <td class="tam-admin_menus_actions">
                            <i class="glyphicon glyphicon-plus-sign tam-admin_menus_item_remove-bttn" data-enabled="1" data-visible="1"></i>
                            <i class="glyphicon glyphicon-plus-sign tam-admin_menus_item_add-bttn" data-enabled="1" data-visible="1"></i>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
                <div ng-repeat="other in menu.other" class="row my-3">
                  <div class="col card tam-admin_menus_card tam-admin_menus_other">
                    <h4 class="tam-admin_input" data-modified="{{other.titleModified}}"><input type="text" class="w-100" ng-model="other.title"></h4>
                    <table class="table table-striped">
                      <colgroup>
                        <col span="1" class="tam-admin_menus_title">
                        <col span="1" class="tam-admin_menus_price">
                        <col span="1" class="tam-admin_menus_actions">
                      </colgroup>
                      <thead>
                        <tr>
                          <th scope="col">Title</th>
                          <th scope="col">Price</th>
                          <th scope="col"></th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr ng-repeat="item in other.items">
                          <td class="align-top tam-admin_input tam-admin_menus_title" data-modified="{{item.titleModified}}">
                            <input type="text" class="w-100" ng-model="item.title">
                          </td>
                          <td class="align-top tam-admin_input tam-admin_menus_price" data-modified="{{item.priceModified}}">
                            <input type="number" class="w-100" step="0.25" ng-model="item.price">
                          </td>
                          <td class="tam-admin_menus_actions">
                            <i class="glyphicon glyphicon-plus-sign tam-admin_menus_item_remove-bttn" data-enabled="1" data-visible="1"></i>
                            <i class="glyphicon glyphicon-plus-sign tam-admin_menus_item_add-bttn" data-enabled="1" data-visible="1"></i>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </uib-tab>
            <uib-tab index="2" heading="Settings" class="tam_admin_tab ">
            </uib-tab>
          </uib-tabset>
        </div>
        <script type="module" src="../script/admin/app.js"></script>
    </body>
</html>